---
// =================================
// IMPORTS
// =================================

// Components
import NavBar from "../components/NavBar.astro";
import RippleEffect from "../components/RippleEffect.astro";

// Layouts
import BaseLayout from "../layouts/BaseLayout.astro";

// =================================
// CONFIGURATION
// =================================

const pageTitle = "Projects";

// =================================
// DATA COLLECTION
// =================================

const allProjects = Object.values(
  import.meta.glob("./projects/*.md", { eager: true }),
);
---

<BaseLayout pageTitle={pageTitle}>
  <NavBar pageTitle={pageTitle} />
  <header>
    <section class="text-center">
      <h1 class="mb-[16px]">Projects</h1>
      <q class="mb-[16px] block text-xs">Progress not perfection.</q>
      <p>
        Every project tells a story of creativity meeting strategy. Here's a
        collection of work that showcases thoughtful design solutions and
        meaningful results.
      </p>
    </section>
  </header>

  <main>
    {
      allProjects.map((project: any) => (
        <section class="flex flex-col rounded-[8px] bg-(--color-background) shadow-[0_4px_12px_rgba(0,0,0,0.25)]">
          <div class="flex flex-col gap-[16px] rounded-[8px] bg-[#2D2D2D] p-[16px]">
            <div class="flex flex-row justify-between">
              <h4>{project.frontmatter.title}</h4>
              <RippleEffect />
            </div>
            <ul class="tags">
              {project.frontmatter.roles.map((role: string) => (
                <li class="role">{role}</li>
              ))}

              {project.frontmatter.tags.map((tag: string) => (
                <li class="tag">{tag}</li>
              ))}
            </ul>
          </div>

          {project.frontmatter.startDate && (
            <p class="font-accent text-dim py-[8px] text-center text-xs">
              {project.frontmatter.startDate} - {project.frontmatter.endDate}
            </p>
          )}
          <a href={project.url} />
        </section>
      ))
    }
  </main>
</BaseLayout>

<style>
  /* =================================
     LAYOUT STRUCTURE
     ================================= */

  /* Section Container */
  main section {
    position: relative;
  }

  /* =================================
     INTERACTIVE OVERLAYS
     ================================= */

  /* Full Coverage Overlay */
  main section a::before {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
</style>
